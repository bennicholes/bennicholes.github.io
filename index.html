<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="simulation.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Load Balancing Simulation</title>
</head>

<body>
    <h1>Cloud Load Balancing Simulation</h1>
    <h4>Benjamin Nicholes | Martin Revilla | Meliton Padilla</h4>
    <div class="sim-chooser">
        <button><a href="index.html">Canvas Simulation</a></button>
        <button><a href="cyto/Round-robin/index.html">Cytoscape Simulation</a></button>
    </div>
    <p>This page features several different types of cloud load balancing algorithms. The algorithms are based on several constrainsts listed in the table on the right. The table features the output of the simulations. The simulation is visualized below, with each step of the visualization corresponding to its value in the table. Specifically the visualization will show the routed path (current connection) for the current step.
        <br>
        <br> Descriptions of the Algorithms are as follows (more details can be found in the documentation):
        <br>
        <br>
        <strong>Round Robin:</strong> Requests are routed to servers in order to ensure equal distribution.
        <br>
        <br>
        <strong>Lowest Latency:</strong> Requests are routed to servers that have the lowest latency (ms).
        <br>
        <br>
        <strong>Least Connections:</strong> Requests are routed to the server with the least amount of current connections.
        <br>
        <br>
        <strong>Weighted Round Robin:</strong> Requests are routed to servers based on weights.
        <br>
        <br>
        <strong>Enhanced TDMA:</strong> Requests are routed to servers based on constraints during a time period of 5 steps.
        <br>
        <br>
        <strong>Enhanced Enforced:</strong> Requests are routed to servers based on constraints. User inputs a desired CPU utilization and latency (ms). Contraints can be entered for a preffered range of acceptable values i.e CPU Pref = 50. Acceptable CPU Range = +-20.
        <br> This means that any CPU range between 30 and 70 could possibly be routed to.
        <br>
        <br>
        <strong>Note: After every simulation, the reset button must be pressed.
        <br>Please run only one simulation at a time.</strong>
        <br>
        <br>
        <p>Following inputs for Enhanced Enforced Algorithm:</p>
        <div class="input" width="100px">
            <form style="float: left">
                Preferred CPU %:
                <input type="number" id="prefcpu" value='40'>
                <br> Preferred Latency (ms):
                <input type="number" id="preflatency" value="70">
            </form>
            <form style="float: left">
                CPU Acceptable Range (+-):
                <input type="number" id="cpurange" value='30'>
                <br> Latency Acceptable Range (+-):
                <input type="number" id="latencyrange" value="10">
            </form>
            <form id=regions style="float: left">
                <input type="radio" id="r1" name="region" value="1" checked> USA
                <br>
                <input type="radio" id="r2" name="region" value="2"> Russia
                <br>
                <input type="radio" id="r3" name="region" value="3"> China
                <br>
            </form>
        </div>
        <br>
        <br>
        <br>
        <br>
        <div>
            <input type="button" id="roundrobin" value="Round Robin" onclick="roundRobin()">
            <input type="button" id="lowestlatency" value="Lowest Latency" onclick="lowestLatency()">
            <input type="button" id="leastConnections" value="Least Connections" onclick="leastConnections()">
            <input type="button" id="weightedroundrobin" value="Weighted Round Robin" onclick="weightedRoundRobin()">
            <input type="button" id="tdma" value="Enhanced TDMA" onclick="enhancedTDMA()">
            <input type="button" id="ef" value="Enhanced Enforced" onclick="enhancedEnforced()">
            <input type="button" id="reset" value="Reset" onclick="reset()">
        </div>
        <div>
            <canvas id="canvas" width="800" height="700" style="border:1px solid #000000;"></canvas>
            <fieldset>
                <legend>Results</legend>
                <table id="output">
                    <tr>
                        <td>Step</td>
                        <td>Node 1 Connections</td>
                        <td>Node 2 Connections</td>
                        <td>Node 3 Connections</td>
                        <td>Current Connection</td>
                        <td>Latency (ms)</td>
                        <td>CPU %</td>
                        <td>Region</td>
                    </tr>
                </table>
            </fieldset>
        </div>
        <script src="simulation.js"></script>
        <script src="algorithms.js"></script>
</body>

</html>
